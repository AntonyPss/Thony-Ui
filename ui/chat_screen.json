{
  "namespace": "chat",

  // Icons Images //

  "gear_image": {
    "type": "image",
    "texture": "textures/ui/chat/gear_icon",
    "layer": 2,
    "size": [ 12, 12 ]
  },

  "keyboard_image": {
    "type": "image",
    "texture": "textures/ui/chat/keyboard_icon",
    "layer": 2,
    "size": [ 12, 12 ]
  },

  "send_image": {
    "type": "image",
    "texture": "textures/ui/chat/send_icon",
    "layer": 2,
    "size": [ 12, 12 ]
  },

  "copy_image": {
    "type": "image",
    "texture": "textures/ui/chat/copy_icon",
    "layer": 2,
    "size": [ 12, 12 ]
  },

  "paste_image": {
    "type": "image",
    "texture": "textures/ui/chat/paste_icon",
    "layer": 2,
    "size": [ 12, 12 ]
  },

  "previous_image": {
    "type": "image",
    "texture": "textures/ui/chat/chat_previous_message_icon",
    "layer": 2,
    "size": [ 12, 12 ]
  },

  "next_image": {
    "type": "image",
    "texture": "textures/ui/chat/chat_next_message_icon",
    "layer": 2,
    "size": [ 12, 12 ]
  },

  "autocomplete_image": {
    "type": "image",
    "texture": "textures/ui/chat/chat_autocomplete_down_icon",
    "layer": 2,
    "size": [ 12, 12 ]
  },

  "autocomplete_back_image": {
    "type": "image",
    "texture": "textures/ui/chat/chat_autocomplete_up_icon",
    "layer": 2,
    "size": [ 12, 12 ]
  },

  // Buttons Template //

  "content_button@common.button": {
    "$pressed_button_name": "button.send",
    "$button_image_texture": "textures/ui/Black",
    "$button_image_alpha": 0.4,
    "size": [ 16, 16 ],
    "controls": [
      {
        "default": {
          "type": "image",
          "texture": "$button_image_texture",
          "alpha": "$button_image_alpha",
          "controls": [
            {
              "icon": {
                "type": "panel",
                "anchor_from": "center",
                "anchor_to": "center",
                "size": [ "100% - 2px", "100% - 2px" ],
                "controls": [
                  {
                    "image@$button_content": {
                      "anchor_from": "center",
                      "anchor_to": "center",
                      "layer": 4
                    }
                  }
                ]
              }
            }
          ]
        }
      },
      {
        "hover": {
          "type": "image",
          "texture": "$button_image_texture",
          "alpha": "$button_image_alpha",
          "$button_image_alpha": 0.6,
          "controls": [
            {
              "icon": {
                "type": "panel",
                "anchor_from": "center",
                "anchor_to": "center",
                "size": [ "100% - 2px", "100% - 2px" ],
                "controls": [
                  {
                    "image@$button_content": {
                      "anchor_from": "center",
                      "anchor_to": "center",
                      "layer": 4,
                      "alpha": 0.8
                    }
                  }
                ]
              }
            }
          ]
        }
      },
      {
        "pressed": {
          "type": "image",
          "texture": "$button_image_texture",
          "alpha": "$button_image_alpha",
          "controls": [
            {
              "icon": {
                "type": "panel",
                "anchor_from": "center",
                "anchor_to": "center",
                "size": [ "100% - 2px", "100% - 2px" ],
                "offset": [ 0, 1 ],
                "controls": [
                  {
                    "image@$button_content": {
                      "anchor_from": "center",
                      "anchor_to": "center",
                      "layer": 4
                    }
                  }
                ]
              }
            }
          ]
        }
      }
    ]
  },

  "keyboard_button@content_button": {
    "$pressed_button_name": "button.keyboard_toggle",
    "$button_content": "chat.keyboard_image",
    "$focus_id": "keyboard_button_focus_id",
    "$focus_override_up": "coordinate_dropdown_focus_id",
    "$button_tts_header": "accessibility.chat.tts.keyboard",
    "bindings": [
      {
        "binding_name": "#keyboard_button_focus_override_up",
        "binding_name_override": "#focus_change_up"
      },
      {
        "binding_name": "#keyboard_button_focus_override_down",
        "binding_name_override": "#focus_change_down"
      },
      {
        "binding_name": "#keyboard_button_visible",
        "binding_name_override": "#visible"
      }
    ]
  },

  "settings_button@content_button": {
    "$pressed_button_name": "button.open_chat_settings",
    "$button_content": "chat.gear_image",
    "$focus_id": "chat_settings_button_focus_id",
    "$focus_override_up": "coordinate_dropdown_focus_id",
    "$button_tts_header": "chat.settings"
  },

  "send_button@content_button": {
    "$pressed_button_name": "button.send",
    "$button_content": "chat.send_image",
    "$tts_enabled|default": true,
    "focus_enabled": "$tts_enabled",
    "$focus_id": "send_button_focus_id",
    "$focus_override_up": "paste_button_focus_id",
    "$button_tts_header": "#send_button_accessibility_text",
    "bindings": [
      {
        "binding_name": "#send_button_visible",
        "binding_name_override": "#enabled"
      },
      {
        "binding_name": "#send_button_accessibility_text"
      }
    ]
  },

  // Message Scrolling Panel //

  "messages_text": {
    "type": "image",
    "texture": "textures/ui/Black",
    "anchor_from": "bottom_left",
    "anchor_to":  "bottom_left",
    "layer": 1,
    "alpha": 0.2,
    "size": [ "100% - 64px", "100%c - 1px" ],
    "controls": [
      {
        "text": {
          "type": "label",
          "color": "$chat_text_color",
          "localize": false,
          "text": "#text",
          "shadow": true,
          "alpha": 0.8,
          "text_tts": "#text_tts",
          "font_type": "$chat_font_type",
          "font_scale_factor": "$chat_font_scale_factor",
          "line_padding": "$chat_line_spacing",
          "size": [ "100%", "default" ],
          "offset": [ 2, 0 ]
        }
      }
    ],
    "bindings": [
      {
        "binding_name": "#chat_visible",
        "binding_name_override": "#visible"
      }
    ]
  },

  "messages_scrolling_panel": {
    "$scroll_box_visible": false,
    "$scroll_size": [ 4, "100% - 4px" ],
    "size": [ "100% - 2px", "60%" ],
    "offset": [ 2, -17 ]
  },

  // Commands Panel //

  "commands_panel": {
    "size": [ "100% - 16px", "60%" ],
    "offset": [ 1, -17 ]
  },

  "auto_complete_panel_contents_with_item/text": {
    "color": "$body_text_color",
    "shadow": true
  },

  // Text Edit Box Panel //

  "text_box_background": {
    "type": "image",
    "texture": "textures/ui/Black",
    "alpha": 0.4
  },

  "text_box_background_hover@text_box_background": {
    "alpha": 0.6
  },

  "text_edit_box": {
    "anchor_from": "center",
    "anchor_to": "center",

    "$text_background_default": "chat.text_box_background",
    "$text_background_hover": "chat.text_box_background_hover",
    "$shadow": true,

    "max_length": 724,
    "size": [ "fill", "100%" ]
  },

  // Header Panel //

  "coordinate_text_panel": {
    "type": "panel",
    "size": [ "100%cm", "100%" ],
    "controls": [
      {
        "background": {
          "type": "image",
          "texture": "textures/ui/Black",
          "layer": 1,
          "alpha": 0.5,
          "size": [ "100%c + 12px", "100%" ],
          "controls": [
            {
              "text": {
                "type": "label",
                "text": "#text",
                "anchor_from": "center",
                "anchor_to": "center",
                "layer": 2,
                "shadow": true,
                "alpha": 0.8,
                "size": [ "default", 10 ],
                "max_size": [ 300, 10 ],
                "bindings": [
                  {
                    "binding_name": "#coordinates_text",
                    "binding_name_override": "#text"
                  }
                ]
              }
            }
          ]
        }
      }
    ]
  },

  "dropdown_area_panel": {
    "type": "panel",
    "$radio_toggle_group": true,
    "$default_texture_alpha": 0.5,
    "$default_checked_texture_alpha": 0.5,
    "$hover_texture_alpha": 0.6,
    "$hover_checked_texture_alpha": 0.6,
    "$locked_alpha": 0.8,
    "$hover_texture": "textures/ui/Black",
    "$pressed_texture": "textures/ui/Black",
    "$pressed_no_hover_texture": "textures/ui/Black",
    "$default_checked_text_color": "$body_text_color",
    "size": [ 100, 16 ],
    "controls": [
      {
        "player_position@common_toggles.light_text_toggle": {
          "$toggle_name": "#coordinate_type_position",
          "$toggle_state_binding_name": "#coordinate_type_position",
          "$button_text": "chat.coordinateTypeFacing",
          "bindings": [
            {
              "binding_name": "#coordinate_type_facing",
              "binding_name_override": "#visible"
            }
          ]
        }
      },
      {
        "block_position@common_toggles.light_text_toggle": {
          "$toggle_name": "#coordinate_type_facing",
          "$toggle_state_binding_name": "#coordinate_type_facing",
          "$button_text": "chat.coordinateTypePosition",
          "bindings": [
            {
              "binding_name": "#coordinate_type_position",
              "binding_name_override": "#visible"
            }
          ]
        }
      }
    ]
  },

  "previous_button@content_button": {
    "$button_content": "chat.previous_image",
    "$pressed_button_name": "button.chat_previous_message",
    "$focus_id": "previous_button_focus_id",
    "$button_tts_header": "accessibility.chat.tts.previous"
  },

  "next_button@content_button": {
    "$button_content": "chat.next_image",
    "$pressed_button_name": "button.chat_next_message",
    "$focus_id": "next_button_focus_id",
    "$button_tts_header": "accessibility.chat.tts.next"
  },

  "autocomplete_button@content_button": {
    "$button_content": "chat.autocomplete_image",
    "$pressed_button_name": "button.chat_autocomplete",
    "$focus_id": "autocomplete_button_focus_id",
    "$button_tts_header": "accessibility.chat.tts.autocomplete"
  },

  "autocomplete_back_button@content_button": {
    "$button_content": "chat.autocomplete_back_image",
    "$pressed_button_name": "button.chat_autocomplete_back",
    "$focus_id": "autocompleteback_button_focus_id",
    "$button_tts_header": "accessibility.chat.tts.autocompleteback"
  },

  "copy_button@content_button": {
    "$button_content": "chat.copy_image",
    "$pressed_button_name": "copy_coordinates_button",
    "$focus_id": "coordinate_copy_button_focus_id",
    "$focus_override_left": "coordinate_dropdown_focus_id",
    "$focus_override_right": "paste_button_focus_id",
    "$focus_override_down": "text_edit_box_focus_id",
    "bindings": [
      {
        "binding_name": "#copy_button_enabled",
        "binding_name_override": "#enabled"
      }
    ]
  },

  "paste_button@content_button": {
    "$button_content": "chat.paste_image",
    "$pressed_button_name": "paste_button",
    "$focus_id": "paste_button_focus_id",
    "$focus_override_left": "coordinate_copy_button_focus_id",
    "$focus_override_down": "text_edit_box_focus_id"
  },

  "chat_button_panel": {
    "type": "stack_panel",
    "orientation": "horizontal",
    "size": [ "100%c", "100%" ],
    "ignored": "$touch_ui_mode",
    "controls": [
      { "autocomplete@autocomplete_button": {} },
      { "autocomplete_back@autocomplete_back_button": {} },
      { "previous_button@previous_button": {} },
      { "next_button@next_button": {} }
    ]
  },

  "chat_header_panel": {
    "type": "stack_panel",
    "orientation": "horizontal",
    "anchor_from": "top_right",
    "anchor_to": "top_right",
    "size": [ "100% - 2px", 16 ],
    "offset": [ 0, 1 ],
    "$touch_ui_mode|default": true,
    "variables": [
      {
        "requires": "$touch",
        "$touch_ui_mode": false
      }
    ],
    "controls": [
      { "fill_padding": {
          "type": "panel",
          "size": [ "fill", 0 ]
      } },
      { "coordinate@coordinate_text_panel": {} },
      { "dropdown@dropdown_area_panel": {} },
      { "chat_button@chat_button_panel": {} },
      { "copy_button@copy_button": {} },
      { "paste_button@paste_button": {} },
      { "exit@common_assets.exit_button": {
          "$exit_button_image": "textures/ui/Black"
      } }
    ]
  },

  // Bottom Panel //

  "chat_bottom_panel": {
    "anchor_from": "bottom_middle",
    "anchor_to": "bottom_middle",
    "size": [ "100% - 2px", 16 ],
    "min_size": [ "100% -2px", 16 ],
    "offset": [ 0, -1 ],
    "controls": [
      { "0@keyboard_button": {} },
      { "1@host_options.host_main_button_": {
          "ignored": "$is_pregame",
          "$focus_override_up": "coordinate_dropdown_focus_id"
      } },
      { "2@settings_button": {} },
      { "3@text_edit_box": {} },
      { "4@send_button": {} }
    ]
  },

  // Popup Toast //

  "popup_title@toast_screen.toast_label": {
    "text": "#toast_title",
    "layer": 2,
    "shadow": "$toast_text_shadow",
    "color": "$toast_text_color",
    "size": [ "100% - 8px", "default" ],
    "max_size": [ "100% - 8px", 16 ],

    "$popup_title_binding_type|default": "global",
    "$popup_title_collection_name|default": "",
    "$popup_title_collection_details|default": "none",
    "$popup_title_collection_prefix|default": "",
    "bindings": [
      {
        "binding_type": "$popup_title_collection_details",
        "binding_collection_name": "$popup_title_collection_name",
        "binding_collection_prefix": "$popup_title_collection_prefix"
      },
      {
        "binding_type": "$popup_title_binding_type",
        "binding_collection_name": "$popup_title_collection_name",
        "binding_name": "#toast_title"
      }
    ]
  },

  "popup@common.input_panel": {
    "anchor_from": "$toast_anchor_from",
    "anchor_to": "$toast_anchor_to",
    "size": "$popup_size",
    "offset": "$toast_offset",
    "anims": "$offset_anims",

    "$toast_background_texture|default": "textures/ui/Black",
    "$toast_background_alpha|default": 0.5,
    "$toast_background_size|default": [ "100%", "100%c + 12px" ],

    "$toast_anchor_from|default": "top_middle",
    "$toast_anchor_to|default": "bottom_middle",
    "$popup_size|default": [ 1, 1 ],
    "$toast_offset|default": [ 0, 0 ],
    "$offset_anims|default": [],

    "$toast_text_shadow|default": true,
    "$toast_text_alignment|default": "center",
    "$toast_label_offset|default": [],
    "$alpha_anims|default": [],
    "controls": [
      {
        "background": {
          "type": "image",
          "texture": "$toast_background_texture",
          "anims": "$alpha_anims",
          "alpha": "$toast_background_alpha",
          "size": "$toast_background_size",
          "controls": [
            {
              "text_stack_panel@chat.popup_title": {}
            }
          ]
        }
      }
    ]
  },

  "popup_toast@chat.popup": {
    "layer": 100,
    "$display_time": 0.75,
    "$transition_in_time": 0.15,
    "$transition_out_time": 0.15,
    "$popup_size": [ 40, 20 ],
    "$toast_text_offset": [ 0, 4 ],
    "$toast_text_alignment": "center",
    "$toast_anchor_from": "center",
    "$toast_anchor_to": "center",
    "$offset_anims": [],
    "$alpha_anims": []
  },

  // Screen Content //

  "chat_screen_content": {
    "controls": [
      { "messages_panel@chat.messages_scrolling_panel": {} },
      { "chat_header_panel@chat.chat_header_panel": { "layer": 2 } },
      { "chat_bottom_panel@chat.chat_bottom_panel": { "layer": 2 } },
      { "autocomplete_commands_panel@chat.commands_panel": { "layer": 3 } },
      { "host_main_panel@host_options.host_panel": { "layer": 4 } },
      { "popup_factory@chat_settings.popup_factory": {} }
    ]
  },

  "chat_screen": {
    "close_on_player_hurt": false,
    "$screen_bg_content": "common.empty_panel"
  }
}